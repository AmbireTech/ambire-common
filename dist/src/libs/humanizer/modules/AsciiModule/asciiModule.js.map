{"version":3,"file":"asciiModule.js","sourceRoot":"","sources":["../../../../../../src/libs/humanizer/modules/AsciiModule/asciiModule.ts"],"names":[],"mappings":"AAAA,qCAAqC;AACrC,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;AAIlD,OAAO,EACL,oBAAoB,EACpB,SAAS,EACT,uBAAuB,EACvB,QAAQ,EACR,OAAO,EACP,QAAQ,EACT,MAAM,aAAa,CAAA;AAEpB,MAAM,CAAC,MAAM,WAAW,GAAwB,CAC9C,SAAoB,EACpB,cAAwB,EACxB,EAAE;IACF,MAAM,QAAQ,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;QAC3C,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI;YAAE,OAAO,IAAI,CAAA;QACnC,IAAI,IAAI,CAAC,iBAAiB,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,iBAAiB,CAAC;YAAE,OAAO,IAAI,CAAA;QACzF,IAAI,aAAa,CAAA;QACjB,IAAI;YACF,aAAa,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;SACxC;QAAC,MAAM;YACN,OAAO,IAAI,CAAA;SACZ;QACD,MAAM,sBAAsB,GAAG,IAAI,CAAC,KAAK;YACvC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YACzE,CAAC,CAAC,EAAE,CAAA;QACN,OAAO;YACL,GAAG,IAAI;YACP,iBAAiB,EAAE;gBACjB,SAAS,CAAC,mBAAmB,CAAC;gBAC9B,QAAQ,CAAC,IAAI,CAAC;gBACd,uBAAuB,CAAC,IAAI,CAAC,EAAE,CAAC;gBAChC,OAAO,CAAC,aAAa,CAAC;gBACtB,GAAG,sBAAsB;aAC1B;SACF,CAAA;IACH,CAAC,CAAC,CAAA;IACF,OAAO,QAAQ,CAAA;AACjB,CAAC,CAAA","sourcesContent":["/* eslint-disable no-await-in-loop */\nimport { toUtf8String, ZeroAddress } from 'ethers'\n\nimport { AccountOp } from '../../../accountOp/accountOp'\nimport { HumanizerCallModule, IrCall } from '../../interfaces'\nimport {\n  checkIfUnknownAction,\n  getAction,\n  getAddressVisualization,\n  getLabel,\n  getText,\n  getToken\n} from '../../utils'\n\nexport const asciiModule: HumanizerCallModule = (\n  accountOp: AccountOp,\n  currentIrCalls: IrCall[]\n) => {\n  const newCalls = currentIrCalls.map((call) => {\n    if (call.data === '0x') return call\n    if (call.fullVisualization && !checkIfUnknownAction(call?.fullVisualization)) return call\n    let messageAsText\n    try {\n      messageAsText = toUtf8String(call.data)\n    } catch {\n      return call\n    }\n    const sendNativeHumanization = call.value\n      ? [getLabel('and'), getAction('Send'), getToken(ZeroAddress, call.value)]\n      : []\n    return {\n      ...call,\n      fullVisualization: [\n        getAction('Send this message'),\n        getLabel('to'),\n        getAddressVisualization(call.to),\n        getText(messageAsText),\n        ...sendNativeHumanization\n      ]\n    }\n  })\n  return newCalls\n}\n"]}