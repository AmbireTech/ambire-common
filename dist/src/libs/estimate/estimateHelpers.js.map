{"version":3,"file":"estimateHelpers.js","sourceRoot":"","sources":["../../../../src/libs/estimate/estimateHelpers.ts"],"names":[],"mappings":";;AAIA,wDAqBC;AAzBD,mCAAoC;AAIpC,SAAgB,sBAAsB,CAAC,SAAwB;IAC7D,IAAI,CAAC,SAAS,CAAC,MAAM;QAAE,OAAO,IAAI,CAAA;IAElC,MAAM,YAAY,GAAG,SAAS,CAAC,IAAI,CACjC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,IAAI,QAAQ,CAAC,MAAM,GAAG,EAAE,CAC/D,CAAA;IACD,MAAM,UAAU,GAAG,SAAS,CAAC,IAAI,CAC/B,CAAC,QAAQ,EAAE,EAAE,CACX,QAAQ,CAAC,OAAO,KAAK,oBAAW,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,IAAI,QAAQ,CAAC,MAAM,GAAG,EAAE,CACxF,CAAA;IACD,MAAM,WAAW,GAAG,SAAS,CAAC,IAAI,CAChC,CAAC,QAAQ,EAAE,EAAE,CACX,QAAQ,CAAC,OAAO,KAAK,oBAAW,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,IAAI,QAAQ,CAAC,MAAM,GAAG,EAAE,CACxF,CAAA;IAED,uDAAuD;IACvD,uEAAuE;IACvE,8BAA8B;IAC9B,IAAI,YAAY;QAAE,OAAO,YAAY,CAAA;IACrC,IAAI,UAAU;QAAE,OAAO,UAAU,CAAA;IACjC,OAAO,WAAW,IAAI,IAAI,CAAA;AAC5B,CAAC","sourcesContent":["import { ZeroAddress } from 'ethers'\n\nimport { TokenResult } from '../portfolio'\n\nexport function getFeeTokenForEstimate(feeTokens: TokenResult[]): TokenResult | null {\n  if (!feeTokens.length) return null\n\n  const gasTankToken = feeTokens.find(\n    (feeToken) => feeToken.flags.onGasTank && feeToken.amount > 0n\n  )\n  const erc20token = feeTokens.find(\n    (feeToken) =>\n      feeToken.address !== ZeroAddress && !feeToken.flags.onGasTank && feeToken.amount > 0n\n  )\n  const nativeToken = feeTokens.find(\n    (feeToken) =>\n      feeToken.address === ZeroAddress && !feeToken.flags.onGasTank && feeToken.amount > 0n\n  )\n\n  // prioritize the gas tank token as it's the safest one\n  // we do a transfer of the native so it's possible it reverts if we try\n  // to do a max native transfer\n  if (gasTankToken) return gasTankToken\n  if (erc20token) return erc20token\n  return nativeToken ?? null\n}\n"]}