{"version":3,"file":"bytecode.js","sourceRoot":"","sources":["../../../../src/libs/proxyDeploy/bytecode.ts"],"names":[],"mappings":";;;AAAA,gDAAqF;AAErF,sDAAwD;AACxD,qCAA0F;AAEnF,KAAK,UAAU,WAAW,CAAC,SAAuB;IACvD,iCAAiC;IACjC,OAAO,IAAA,+BAAsB,EAAC,6BAAoB,EAAE,SAAS,EAAE;QAC7D,GAAG,IAAA,oCAA2B,EAAC,IAAI,CAAC;KACrC,CAAC,CAAA;AACJ,CAAC;AALD,kCAKC;AACM,KAAK,UAAU,eAAe,CAAC,OAAgB,EAAE,SAAuB;IAC7E,MAAM,QAAQ,GAAG,IAAA,yBAAc,EAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAA;IACjE,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,OAAO,CAAC,kCAAyB,CAAC,CAAA;IAC9D,IAAI,IAAI,KAAK,IAAI;QAAE,MAAM,IAAI,KAAK,CAAC,yDAAyD,CAAC,CAAA;IAE7F,iCAAiC;IACjC,OAAO,IAAA,+BAAsB,EAAC,kCAAyB,EAAE,SAAS,EAAE;QAClE,GAAG,IAAA,oCAA2B,EAAC,IAAI,CAAC;KACrC,CAAC,CAAA;AACJ,CAAC;AATD,0CASC","sourcesContent":["import { PROXY_AMBIRE_4337_ACCOUNT, PROXY_AMBIRE_ACCOUNT } from '../../consts/deploy'\nimport { Network } from '../../interfaces/network'\nimport { getRpcProvider } from '../../services/provider'\nimport { getProxyDeployBytecode, getStorageSlotsFromArtifact, PrivLevels } from './deploy'\n\nexport async function getBytecode(priLevels: PrivLevels[]): Promise<string> {\n  // get the bytecode and deploy it\n  return getProxyDeployBytecode(PROXY_AMBIRE_ACCOUNT, priLevels, {\n    ...getStorageSlotsFromArtifact(null)\n  })\n}\nexport async function get4437Bytecode(network: Network, priLevels: PrivLevels[]): Promise<string> {\n  const provider = getRpcProvider(network.rpcUrls, network.chainId)\n  const code = await provider.getCode(PROXY_AMBIRE_4337_ACCOUNT)\n  if (code === '0x') throw new Error('No proxy ambire account mined for the specified network')\n\n  // get the bytecode and deploy it\n  return getProxyDeployBytecode(PROXY_AMBIRE_4337_ACCOUNT, priLevels, {\n    ...getStorageSlotsFromArtifact(null)\n  })\n}\n"]}