{"version":3,"file":"swapAndBridgeErrorHumanizer.js","sourceRoot":"","sources":["../../../../src/libs/swapAndBridge/swapAndBridgeErrorHumanizer.ts"],"names":[],"mappings":";;;;AAAA,0FAAyD;AACzD,kGAAiE;AACjE,wHAAuF;AAEvF,MAAM,cAAc,GAAG,GAAG,CAAA;AAE1B,SAAgB,kCAAkC,CAChD,CAAoF;IAEpF,4CAA4C;IAC5C,qCAAqC;IACrC,IACE,CAAC,YAAY,wBAAc;QAC3B,CAAC,YAAY,uCAA6B;QAC1C,CAAC,YAAY,4BAAkB,EAC/B;QACA,OAAO,CAAC,CAAA;KACT;IAED,wCAAwC;IACxC,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,IAAI,YAAY,CAAA;IACxC,+CAA+C;IAC/C,IAAI,OAAO,CAAC,MAAM,GAAG,cAAc;QAAE,OAAO,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,cAAc,CAAC,KAAK,CAAA;IAC3F,MAAM,YAAY,GAAG,6GAA6G,OAAO,GAAG,CAAA;IAE5I,OAAO,IAAI,KAAK,CAAC,YAAY,CAAC,CAAA;AAChC,CAAC;AApBD,gFAoBC","sourcesContent":["import EmittableError from '../../classes/EmittableError'\nimport SwapAndBridgeError from '../../classes/SwapAndBridgeError'\nimport SwapAndBridgeProviderApiError from '../../classes/SwapAndBridgeProviderApiError'\n\nconst MSG_MAX_LENGTH = 225\n\nexport function getHumanReadableSwapAndBridgeError(\n  e: EmittableError | SwapAndBridgeProviderApiError | SwapAndBridgeError | Error | any\n) {\n  // These errors should be thrown as they are\n  // as they are already human-readable\n  if (\n    e instanceof EmittableError ||\n    e instanceof SwapAndBridgeProviderApiError ||\n    e instanceof SwapAndBridgeError\n  ) {\n    return e\n  }\n\n  // Last resort (fallback) error handling\n  let message = e?.message || 'no details'\n  // Protection against crazy long error messages\n  if (message.length > MSG_MAX_LENGTH) message = `${message.substring(0, MSG_MAX_LENGTH)}...`\n  const errorMessage = `Unexpected error happened in the Swap & Bridge flow. Try again later or contact Ambire support. Details: <${message}>`\n\n  return new Error(errorMessage)\n}\n"]}