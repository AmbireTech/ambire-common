{ "abi": [{ "inputs": [{ "internalType": "contract IAmbireAccount", "name": "account", "type": "address" }], "name": "ambireV2Check", "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }], "stateMutability": "pure", "type": "function" }, { "inputs": [{ "components": [{ "internalType": "address", "name": "addr", "type": "address" }, { "internalType": "address[]", "name": "associatedKeys", "type": "address[]" }, { "internalType": "address", "name": "factory", "type": "address" }, { "internalType": "bytes", "name": "factoryCalldata", "type": "bytes" }, { "internalType": "address", "name": "erc4337EntryPoint", "type": "address" }], "internalType": "struct AccountInput", "name": "account", "type": "tuple" }], "name": "gatherAmbireData", "outputs": [{ "internalType": "uint256", "name": "nonce", "type": "uint256" }, { "internalType": "bytes32[]", "name": "privileges", "type": "bytes32[]" }, { "internalType": "bool", "name": "isV2", "type": "bool" }, { "internalType": "uint256", "name": "erc4337Nonce", "type": "uint256" }], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [{ "components": [{ "internalType": "address", "name": "addr", "type": "address" }, { "internalType": "address[]", "name": "associatedKeys", "type": "address[]" }, { "internalType": "address", "name": "factory", "type": "address" }, { "internalType": "bytes", "name": "factoryCalldata", "type": "bytes" }, { "internalType": "address", "name": "erc4337EntryPoint", "type": "address" }], "internalType": "struct AccountInput[]", "name": "accounts", "type": "tuple[]" }], "name": "getAccountsState", "outputs": [{ "components": [{ "internalType": "bool", "name": "isDeployed", "type": "bool" }, { "internalType": "bytes", "name": "deployErr", "type": "bytes" }, { "internalType": "uint256", "name": "nonce", "type": "uint256" }, { "internalType": "bytes32[]", "name": "associatedKeyPrivileges", "type": "bytes32[]" }, { "internalType": "bool", "name": "isV2", "type": "bool" }, { "internalType": "uint256", "name": "balance", "type": "uint256" }, { "internalType": "bool", "name": "isEOA", "type": "bool" }, { "internalType": "uint256", "name": "erc4337Nonce", "type": "uint256" }, { "internalType": "uint256", "name": "currentBlock", "type": "uint256" }], "internalType": "struct AccountInfo[]", "name": "accountResult", "type": "tuple[]" }], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "acc", "type": "address" }, { "internalType": "address", "name": "entryPoint", "type": "address" }], "name": "getErc4337Nonce", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "nonpayable", "type": "function" }], "bin": "0x6080806040523461001657610e1d908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c806324b6d4571461085e578063dbcc238b14610275578063e4377c6b146101185763ef0c7b101461004857600080fd5b346100ff5760403660031901126100ff576004356001600160a01b03908181168091036100ff576024359182168092036100ff57600091604460209260405194859384927f35567e1a00000000000000000000000000000000000000000000000000000000845260048401528160248401525af1801561010c576000906100d5575b602090604051908152f35b506020813d8211610104575b816100ee60209383610b8d565b810103126100ff57602090516100ca565b600080fd5b3d91506100e1565b6040513d6000823e3d90fd5b346100ff576020806003193601126100ff576004356001600160a01b0381168091036100ff57604051907f01ffc9a700000000000000000000000000000000000000000000000000000000918281527f0a4176320000000000000000000000000000000000000000000000000000000060048201528381602481855afa92831561010c57849160009461023d575b5083156101b9575b506040518315158152f35b9091925060246040518094819382527f150b7a020000000000000000000000000000000000000000000000000000000060048301525afa90811561010c57600091610208575b508282816101ae565b90508181813d8311610236575b61021f8183610b8d565b810103126100ff5761023090610dda565b826101ff565b503d610215565b8281939295503d831161026e575b6102558183610b8d565b810103126100ff576102678491610dda565b92856101a6565b503d61024b565b346100ff5760203660031901126100ff5760043567ffffffffffffffff81116100ff57366023820112156100ff5780600401356102b181610bc3565b916102bf6040519384610b8d565b8183526024602084019260051b820101903682116100ff5760248101925b82841061082e578451856102f082610bc3565b916102fe6040519384610b8d565b80835261030d601f1991610bc3565b0160005b8181106107af57505060005b815181146106aa5761032f8183610d80565b51906001600160a01b03825116319160a0928361034c8488610d80565b5101526001600160a01b03604082015116156106965780516001600160a01b03163b156105af57600161037f8387610d80565b51525b60405180937f24b6d457000000000000000000000000000000000000000000000000000000008252602060048301526001600160a01b038351166024830152602083015190604483015260c482018151809152602060e484019201906000905b80821061058a57505050826001600160a01b036080610420859483604060009901511660648701526060850151602319878303016084880152610d1b565b9201511660a4830152038183305af1600080600091836000946104ba575b610467965061046c5750505050610453610daa565b602061045f8387610d80565b510152610d5b565b61031d565b6040610478868a610d80565b51015260606104878589610d80565b51015260806104968488610d80565b5101901515905260e06104a98387610d80565b5101524361010061045f8387610d80565b949593505050503d90816000823e6104d28282610b8d565b60808183810103126100ff5780519160208201519067ffffffffffffffff82116100ff57808301601f8385010112156100ff578183015161051281610bc3565b926105206040519485610b8d565b8184526020840192850160208360051b8388010101116100ff57602081860101925b60208360051b8388010101841061057a57505050509061046794939291606061056d60408401610dda565b920151929091929361043e565b8351815260209384019301610542565b919350916020806001926001600160a01b0387511681520194019201869392916103e2565b60006105bb8387610d80565b51526000806001600160a01b0360408401511660608401519082602083519301915af16105e6610daa565b5080158015610683575b6105fa5750610382565b61046793501590506106485760405161061281610b71565b600b81527f63616c6c20776f726b65640000000000000000000000000000000000000000006020820152602061045f8387610d80565b60405161065481610b71565b600b81527f63616c6c206661696c65640000000000000000000000000000000000000000006020820152610453565b506001600160a01b038251163b156105f0565b506104679150600160c061045f8387610d80565b826040518091602082016020835281518091526040830190602060408260051b8601019301916000905b8282106106e357505050500390f35b919390929450603f198682030182528451908151151581526107146020830151610120806020850152830190610d1b565b9160408101516040830152606092838201519383820390840152602080855192838152019401906000905b80821061079757505050600192602092839260808082015115159083015260a0808201519083015260c08082015115159083015260e081015160e08301526101008091015191015296019201920185949391926106d4565b9091946020806001928851815201960192019061073f565b6040519061012082019180831067ffffffffffffffff841117610818576020926040526000815260608084830152600060408301528082015260006080820152600060a0820152600060c0820152600060e0820152600061010082015282828701015201610311565b634e487b7160e01b600052604160045260246000fd5b833567ffffffffffffffff81116100ff57602091610853839260243691870101610bf7565b8152019301926102dd565b346100ff576020806003193601126100ff5760043567ffffffffffffffff81116100ff57610890903690600401610bf7565b8181018051516108b86108a282610bc3565b916108b06040519384610b8d565b808352610bc3565b81850190601f19013682376001600160a01b03908185511691604051927fe4377c6b000000000000000000000000000000000000000000000000000000008452600484015260249087848381305afa92831561010c578894600094610b39575b50600097969594505b85519789895182146109da5788998585610943858260009c9d9e511694610d80565b5116604051998a9384927fc066a5b100000000000000000000000000000000000000000000000000000000845260048401525af1801561010c578a966000916109a7575b509061099d91610997828a610d80565b52610d5b565b9796959450610921565b8781939892503d83116109d3575b6109bf8183610b8d565b810103126100ff575189959061099d610987565b503d6109b5565b86836000888c898987818451166004604051809881937faffed0e00000000000000000000000000000000000000000000000000000000083525af194851561010c57600095610b0a575b506080818451169301511690604051927fef0c7b10000000000000000000000000000000000000000000000000000000008452600484015282015285816044816000305af160009181610adb575b50610ad55750610a80610daa565b50600019915b60405194608086019186526080878701525180915260a08501939060005b818110610ac1575050508394501515604084015260608301520390f35b825186529487019491870191600101610aa4565b91610a86565b9091508681813d8311610b03575b610af38183610b8d565b810103126100ff57519087610a72565b503d610ae9565b9094508781813d8311610b32575b610b228183610b8d565b810103126100ff57519388610a24565b503d610b18565b8581969295503d8311610b6a575b610b518183610b8d565b810103126100ff57610b638894610dda565b9289610918565b503d610b47565b6040810190811067ffffffffffffffff82111761081857604052565b90601f8019910116810190811067ffffffffffffffff82111761081857604052565b35906001600160a01b03821682036100ff57565b67ffffffffffffffff81116108185760051b60200190565b67ffffffffffffffff811161081857601f01601f191660200190565b919060a0838203126100ff57604080519167ffffffffffffffff9060a08401828111858210176108185783528395610c2e81610baf565b8552602092838201358181116100ff57820183601f820112156100ff57803590610c5782610bc3565b91610c6488519384610b8d565b808352868084019160051b830101918683116100ff5787809101915b838310610d035750915050870152610c99858301610baf565b8587015260608201359081116100ff5781019382601f860112156100ff57843592610ccf610cc685610bdb565b92519283610b8d565b8382528484870101116100ff576000848460809795610cfe978997018386013783010152606086015201610baf565b910152565b8190610d0e84610baf565b8152019101908790610c80565b919082519283825260005b848110610d47575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610d26565b6000198114610d6a5760010190565b634e487b7160e01b600052601160045260246000fd5b8051821015610d945760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b3d15610dd5573d90610dbb82610bdb565b91610dc96040519384610b8d565b82523d6000602084013e565b606090565b519081151582036100ff5756fea2646970667358221220bfcaf330efff50a143fd1c85977ee736b88a6442b5a94bed03257de113f4509264736f6c63430008130033", "binRuntime": "0x6080604052600436101561001257600080fd5b60003560e01c806324b6d4571461085e578063dbcc238b14610275578063e4377c6b146101185763ef0c7b101461004857600080fd5b346100ff5760403660031901126100ff576004356001600160a01b03908181168091036100ff576024359182168092036100ff57600091604460209260405194859384927f35567e1a00000000000000000000000000000000000000000000000000000000845260048401528160248401525af1801561010c576000906100d5575b602090604051908152f35b506020813d8211610104575b816100ee60209383610b8d565b810103126100ff57602090516100ca565b600080fd5b3d91506100e1565b6040513d6000823e3d90fd5b346100ff576020806003193601126100ff576004356001600160a01b0381168091036100ff57604051907f01ffc9a700000000000000000000000000000000000000000000000000000000918281527f0a4176320000000000000000000000000000000000000000000000000000000060048201528381602481855afa92831561010c57849160009461023d575b5083156101b9575b506040518315158152f35b9091925060246040518094819382527f150b7a020000000000000000000000000000000000000000000000000000000060048301525afa90811561010c57600091610208575b508282816101ae565b90508181813d8311610236575b61021f8183610b8d565b810103126100ff5761023090610dda565b826101ff565b503d610215565b8281939295503d831161026e575b6102558183610b8d565b810103126100ff576102678491610dda565b92856101a6565b503d61024b565b346100ff5760203660031901126100ff5760043567ffffffffffffffff81116100ff57366023820112156100ff5780600401356102b181610bc3565b916102bf6040519384610b8d565b8183526024602084019260051b820101903682116100ff5760248101925b82841061082e578451856102f082610bc3565b916102fe6040519384610b8d565b80835261030d601f1991610bc3565b0160005b8181106107af57505060005b815181146106aa5761032f8183610d80565b51906001600160a01b03825116319160a0928361034c8488610d80565b5101526001600160a01b03604082015116156106965780516001600160a01b03163b156105af57600161037f8387610d80565b51525b60405180937f24b6d457000000000000000000000000000000000000000000000000000000008252602060048301526001600160a01b038351166024830152602083015190604483015260c482018151809152602060e484019201906000905b80821061058a57505050826001600160a01b036080610420859483604060009901511660648701526060850151602319878303016084880152610d1b565b9201511660a4830152038183305af1600080600091836000946104ba575b610467965061046c5750505050610453610daa565b602061045f8387610d80565b510152610d5b565b61031d565b6040610478868a610d80565b51015260606104878589610d80565b51015260806104968488610d80565b5101901515905260e06104a98387610d80565b5101524361010061045f8387610d80565b949593505050503d90816000823e6104d28282610b8d565b60808183810103126100ff5780519160208201519067ffffffffffffffff82116100ff57808301601f8385010112156100ff578183015161051281610bc3565b926105206040519485610b8d565b8184526020840192850160208360051b8388010101116100ff57602081860101925b60208360051b8388010101841061057a57505050509061046794939291606061056d60408401610dda565b920151929091929361043e565b8351815260209384019301610542565b919350916020806001926001600160a01b0387511681520194019201869392916103e2565b60006105bb8387610d80565b51526000806001600160a01b0360408401511660608401519082602083519301915af16105e6610daa565b5080158015610683575b6105fa5750610382565b61046793501590506106485760405161061281610b71565b600b81527f63616c6c20776f726b65640000000000000000000000000000000000000000006020820152602061045f8387610d80565b60405161065481610b71565b600b81527f63616c6c206661696c65640000000000000000000000000000000000000000006020820152610453565b506001600160a01b038251163b156105f0565b506104679150600160c061045f8387610d80565b826040518091602082016020835281518091526040830190602060408260051b8601019301916000905b8282106106e357505050500390f35b919390929450603f198682030182528451908151151581526107146020830151610120806020850152830190610d1b565b9160408101516040830152606092838201519383820390840152602080855192838152019401906000905b80821061079757505050600192602092839260808082015115159083015260a0808201519083015260c08082015115159083015260e081015160e08301526101008091015191015296019201920185949391926106d4565b9091946020806001928851815201960192019061073f565b6040519061012082019180831067ffffffffffffffff841117610818576020926040526000815260608084830152600060408301528082015260006080820152600060a0820152600060c0820152600060e0820152600061010082015282828701015201610311565b634e487b7160e01b600052604160045260246000fd5b833567ffffffffffffffff81116100ff57602091610853839260243691870101610bf7565b8152019301926102dd565b346100ff576020806003193601126100ff5760043567ffffffffffffffff81116100ff57610890903690600401610bf7565b8181018051516108b86108a282610bc3565b916108b06040519384610b8d565b808352610bc3565b81850190601f19013682376001600160a01b03908185511691604051927fe4377c6b000000000000000000000000000000000000000000000000000000008452600484015260249087848381305afa92831561010c578894600094610b39575b50600097969594505b85519789895182146109da5788998585610943858260009c9d9e511694610d80565b5116604051998a9384927fc066a5b100000000000000000000000000000000000000000000000000000000845260048401525af1801561010c578a966000916109a7575b509061099d91610997828a610d80565b52610d5b565b9796959450610921565b8781939892503d83116109d3575b6109bf8183610b8d565b810103126100ff575189959061099d610987565b503d6109b5565b86836000888c898987818451166004604051809881937faffed0e00000000000000000000000000000000000000000000000000000000083525af194851561010c57600095610b0a575b506080818451169301511690604051927fef0c7b10000000000000000000000000000000000000000000000000000000008452600484015282015285816044816000305af160009181610adb575b50610ad55750610a80610daa565b50600019915b60405194608086019186526080878701525180915260a08501939060005b818110610ac1575050508394501515604084015260608301520390f35b825186529487019491870191600101610aa4565b91610a86565b9091508681813d8311610b03575b610af38183610b8d565b810103126100ff57519087610a72565b503d610ae9565b9094508781813d8311610b32575b610b228183610b8d565b810103126100ff57519388610a24565b503d610b18565b8581969295503d8311610b6a575b610b518183610b8d565b810103126100ff57610b638894610dda565b9289610918565b503d610b47565b6040810190811067ffffffffffffffff82111761081857604052565b90601f8019910116810190811067ffffffffffffffff82111761081857604052565b35906001600160a01b03821682036100ff57565b67ffffffffffffffff81116108185760051b60200190565b67ffffffffffffffff811161081857601f01601f191660200190565b919060a0838203126100ff57604080519167ffffffffffffffff9060a08401828111858210176108185783528395610c2e81610baf565b8552602092838201358181116100ff57820183601f820112156100ff57803590610c5782610bc3565b91610c6488519384610b8d565b808352868084019160051b830101918683116100ff5787809101915b838310610d035750915050870152610c99858301610baf565b8587015260608201359081116100ff5781019382601f860112156100ff57843592610ccf610cc685610bdb565b92519283610b8d565b8382528484870101116100ff576000848460809795610cfe978997018386013783010152606086015201610baf565b910152565b8190610d0e84610baf565b8152019101908790610c80565b919082519283825260005b848110610d47575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610d26565b6000198114610d6a5760010190565b634e487b7160e01b600052601160045260246000fd5b8051821015610d945760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b3d15610dd5573d90610dbb82610bdb565b91610dc96040519384610b8d565b82523d6000602084013e565b606090565b519081151582036100ff5756fea2646970667358221220bfcaf330efff50a143fd1c85977ee736b88a6442b5a94bed03257de113f4509264736f6c63430008130033" }
