{ "abi": [{ "inputs": [{ "internalType": "contract IAmbireAccount", "name": "account", "type": "address" }], "name": "ambireV2Check", "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }], "stateMutability": "pure", "type": "function" }, { "inputs": [{ "components": [{ "internalType": "address", "name": "addr", "type": "address" }, { "internalType": "address[]", "name": "associatedKeys", "type": "address[]" }, { "internalType": "address", "name": "factory", "type": "address" }, { "internalType": "bytes", "name": "factoryCalldata", "type": "bytes" }, { "internalType": "address", "name": "erc4337EntryPoint", "type": "address" }], "internalType": "struct AccountInput", "name": "account", "type": "tuple" }], "name": "gatherAmbireData", "outputs": [{ "internalType": "uint256", "name": "nonce", "type": "uint256" }, { "internalType": "bytes32[]", "name": "privileges", "type": "bytes32[]" }, { "internalType": "bool", "name": "isV2", "type": "bool" }, { "internalType": "uint256", "name": "erc4337Nonce", "type": "uint256" }], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [{ "components": [{ "internalType": "address", "name": "addr", "type": "address" }, { "internalType": "address[]", "name": "associatedKeys", "type": "address[]" }, { "internalType": "address", "name": "factory", "type": "address" }, { "internalType": "bytes", "name": "factoryCalldata", "type": "bytes" }, { "internalType": "address", "name": "erc4337EntryPoint", "type": "address" }], "internalType": "struct AccountInput[]", "name": "accounts", "type": "tuple[]" }], "name": "getAccountsState", "outputs": [{ "components": [{ "internalType": "bool", "name": "isDeployed", "type": "bool" }, { "internalType": "bytes", "name": "deployErr", "type": "bytes" }, { "internalType": "uint256", "name": "nonce", "type": "uint256" }, { "internalType": "bytes32[]", "name": "associatedKeyPrivileges", "type": "bytes32[]" }, { "internalType": "bool", "name": "isV2", "type": "bool" }, { "internalType": "uint256", "name": "balance", "type": "uint256" }, { "internalType": "bool", "name": "isEOA", "type": "bool" }, { "internalType": "uint256", "name": "erc4337Nonce", "type": "uint256" }], "internalType": "struct AccountInfo[]", "name": "accountResult", "type": "tuple[]" }], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "acc", "type": "address" }, { "internalType": "address", "name": "entryPoint", "type": "address" }], "name": "getErc4337Nonce", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "nonpayable", "type": "function" }], "bin": "0x6080806040523461001657610dd2908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c806324b6d45714610813578063dbcc238b14610277578063e4377c6b1461011a5763ef0c7b101461004857600080fd5b34610101576040366003190112610101576004356001600160a01b03908181168091036101015760243591821680920361010157600091604460209260405194859384927f35567e1a000000000000000000000000000000000000000000000000000000008452600484015261027060248401525af1801561010e576000906100d7575b602090604051908152f35b506020813d8211610106575b816100f060209383610b42565b8101031261010157602090516100cc565b600080fd5b3d91506100e3565b6040513d6000823e3d90fd5b3461010157602080600319360112610101576004356001600160a01b03811680910361010157604051907f01ffc9a700000000000000000000000000000000000000000000000000000000918281527f0a4176320000000000000000000000000000000000000000000000000000000060048201528381602481855afa92831561010e57849160009461023f575b5083156101bb575b506040518315158152f35b9091925060246040518094819382527f150b7a020000000000000000000000000000000000000000000000000000000060048301525afa90811561010e5760009161020a575b508282816101b0565b90508181813d8311610238575b6102218183610b42565b810103126101015761023290610d8f565b82610201565b503d610217565b8281939295503d8311610270575b6102578183610b42565b81010312610101576102698491610d8f565b92856101a8565b503d61024d565b346101015760203660031901126101015760043567ffffffffffffffff811161010157366023820112156101015780600401356102b381610b78565b916102c16040519384610b42565b8183526024602084019260051b820101903682116101015760248101925b8284106107e3578451856102f282610b78565b916103006040519384610b42565b80835261030f601f1991610b78565b0160005b81811061076c57505060005b81518114610673576103318183610d35565b51906001600160a01b039182815116319260a093846103508589610d35565b5101526040820193818551161561065d57825182163b156105815760016103778589610d35565b515293905b6040519485927f24b6d4570000000000000000000000000000000000000000000000000000000084526020600485015260c4840183865116602486015260208601519260448601528251809152602060e486019301906000905b8082106105635750505091608061040a60009693838796511660648701526060850151602319878303016084880152610cd0565b9201511660a4830152038183305af160008060009183600094610493575b6104519650610456575050505061043d610d5f565b60206104498387610d35565b510152610d10565b61031f565b6040610462868a610d35565b51015260606104718589610d35565b51015260806104808488610d35565b5101901515905260e06104498387610d35565b949593505050503d90816000823e6104ab8282610b42565b60808183810103126101015780519160208201519067ffffffffffffffff821161010157808301601f83850101121561010157818301516104eb81610b78565b926104f96040519485610b42565b8184526020840192850160208360051b83880101011161010157602081860101925b60208360051b8388010101841061055357505050509061045194939291606061054660408401610d8f565b9201519290919293610428565b835181526020938401930161051b565b825186168552899650602094850194909201916001909101906103d6565b600061058d8589610d35565b51526000808387511660608601519082602083519301915af16105ae610d5f565b5080158015610651575b6105c45750939061037c565b925050506104519250600014610616576040516105e081610b26565b600b81527f63616c6c20776f726b6564000000000000000000000000000000000000000000602082015260206104498387610d35565b60405161062281610b26565b600b81527f63616c6c206661696c6564000000000000000000000000000000000000000000602082015261043d565b50828451163b156105b8565b5050506104519150600160c06104498387610d35565b826040518091602082016020835281518091526040830190602060408260051b8601019301916000905b8282106106ac57505050500390f35b919390929450603f198682030182528451908151151581526106dd6020830151610100806020850152830190610cd0565b9160408101516040830152606092838201519383820390840152602080855192838152019401906000905b8082106107545750505060019260209260e080859460808082015115159085015260a0808201519085015260c0808201511515908501520151910152960192019201859493919261069d565b90919460208060019288518152019601920190610708565b6040519061010082019180831067ffffffffffffffff8411176107cd576020926040526000815260608084830152600060408301528082015260006080820152600060a0820152600060c0820152600060e082015282828701015201610313565b634e487b7160e01b600052604160045260246000fd5b833567ffffffffffffffff811161010157602091610808839260243691870101610bac565b8152019301926102df565b34610101576020806003193601126101015760043567ffffffffffffffff811161010157610845903690600401610bac565b81810180515161086d61085782610b78565b916108656040519384610b42565b808352610b78565b81850190601f19013682376001600160a01b03908185511691604051927fe4377c6b000000000000000000000000000000000000000000000000000000008452600484015260249087848381305afa92831561010e578894600094610aee575b50600097969594505b855197898951821461098f57889985856108f8858260009c9d9e511694610d35565b5116604051998a9384927fc066a5b100000000000000000000000000000000000000000000000000000000845260048401525af1801561010e578a9660009161095c575b50906109529161094c828a610d35565b52610d10565b97969594506108d6565b8781939892503d8311610988575b6109748183610b42565b81010312610101575189959061095261093c565b503d61096a565b86836000888c898987818451166004604051809881937faffed0e00000000000000000000000000000000000000000000000000000000083525af194851561010e57600095610abf575b506080818451169301511690604051927fef0c7b10000000000000000000000000000000000000000000000000000000008452600484015282015285816044816000305af160009181610a90575b50610a8a5750610a35610d5f565b50600019915b60405194608086019186526080878701525180915260a08501939060005b818110610a76575050508394501515604084015260608301520390f35b825186529487019491870191600101610a59565b91610a3b565b9091508681813d8311610ab8575b610aa88183610b42565b8101031261010157519087610a27565b503d610a9e565b9094508781813d8311610ae7575b610ad78183610b42565b81010312610101575193886109d9565b503d610acd565b8581969295503d8311610b1f575b610b068183610b42565b8101031261010157610b188894610d8f565b92896108cd565b503d610afc565b6040810190811067ffffffffffffffff8211176107cd57604052565b90601f8019910116810190811067ffffffffffffffff8211176107cd57604052565b35906001600160a01b038216820361010157565b67ffffffffffffffff81116107cd5760051b60200190565b67ffffffffffffffff81116107cd57601f01601f191660200190565b919060a08382031261010157604080519167ffffffffffffffff9060a08401828111858210176107cd5783528395610be381610b64565b85526020928382013581811161010157820183601f8201121561010157803590610c0c82610b78565b91610c1988519384610b42565b808352868084019160051b830101918683116101015787809101915b838310610cb85750915050870152610c4e858301610b64565b8587015260608201359081116101015781019382601f8601121561010157843592610c84610c7b85610b90565b92519283610b42565b838252848487010111610101576000848460809795610cb3978997018386013783010152606086015201610b64565b910152565b8190610cc384610b64565b8152019101908790610c35565b919082519283825260005b848110610cfc575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610cdb565b6000198114610d1f5760010190565b634e487b7160e01b600052601160045260246000fd5b8051821015610d495760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b3d15610d8a573d90610d7082610b90565b91610d7e6040519384610b42565b82523d6000602084013e565b606090565b519081151582036101015756fea26469706673582212208bc5fd7eaa93d22e18ce2828933fc8ee3949254cde41401daeeaecabb01570e164736f6c63430008130033", "binRuntime": "0x6080604052600436101561001257600080fd5b60003560e01c806324b6d45714610813578063dbcc238b14610277578063e4377c6b1461011a5763ef0c7b101461004857600080fd5b34610101576040366003190112610101576004356001600160a01b03908181168091036101015760243591821680920361010157600091604460209260405194859384927f35567e1a000000000000000000000000000000000000000000000000000000008452600484015261027060248401525af1801561010e576000906100d7575b602090604051908152f35b506020813d8211610106575b816100f060209383610b42565b8101031261010157602090516100cc565b600080fd5b3d91506100e3565b6040513d6000823e3d90fd5b3461010157602080600319360112610101576004356001600160a01b03811680910361010157604051907f01ffc9a700000000000000000000000000000000000000000000000000000000918281527f0a4176320000000000000000000000000000000000000000000000000000000060048201528381602481855afa92831561010e57849160009461023f575b5083156101bb575b506040518315158152f35b9091925060246040518094819382527f150b7a020000000000000000000000000000000000000000000000000000000060048301525afa90811561010e5760009161020a575b508282816101b0565b90508181813d8311610238575b6102218183610b42565b810103126101015761023290610d8f565b82610201565b503d610217565b8281939295503d8311610270575b6102578183610b42565b81010312610101576102698491610d8f565b92856101a8565b503d61024d565b346101015760203660031901126101015760043567ffffffffffffffff811161010157366023820112156101015780600401356102b381610b78565b916102c16040519384610b42565b8183526024602084019260051b820101903682116101015760248101925b8284106107e3578451856102f282610b78565b916103006040519384610b42565b80835261030f601f1991610b78565b0160005b81811061076c57505060005b81518114610673576103318183610d35565b51906001600160a01b039182815116319260a093846103508589610d35565b5101526040820193818551161561065d57825182163b156105815760016103778589610d35565b515293905b6040519485927f24b6d4570000000000000000000000000000000000000000000000000000000084526020600485015260c4840183865116602486015260208601519260448601528251809152602060e486019301906000905b8082106105635750505091608061040a60009693838796511660648701526060850151602319878303016084880152610cd0565b9201511660a4830152038183305af160008060009183600094610493575b6104519650610456575050505061043d610d5f565b60206104498387610d35565b510152610d10565b61031f565b6040610462868a610d35565b51015260606104718589610d35565b51015260806104808488610d35565b5101901515905260e06104498387610d35565b949593505050503d90816000823e6104ab8282610b42565b60808183810103126101015780519160208201519067ffffffffffffffff821161010157808301601f83850101121561010157818301516104eb81610b78565b926104f96040519485610b42565b8184526020840192850160208360051b83880101011161010157602081860101925b60208360051b8388010101841061055357505050509061045194939291606061054660408401610d8f565b9201519290919293610428565b835181526020938401930161051b565b825186168552899650602094850194909201916001909101906103d6565b600061058d8589610d35565b51526000808387511660608601519082602083519301915af16105ae610d5f565b5080158015610651575b6105c45750939061037c565b925050506104519250600014610616576040516105e081610b26565b600b81527f63616c6c20776f726b6564000000000000000000000000000000000000000000602082015260206104498387610d35565b60405161062281610b26565b600b81527f63616c6c206661696c6564000000000000000000000000000000000000000000602082015261043d565b50828451163b156105b8565b5050506104519150600160c06104498387610d35565b826040518091602082016020835281518091526040830190602060408260051b8601019301916000905b8282106106ac57505050500390f35b919390929450603f198682030182528451908151151581526106dd6020830151610100806020850152830190610cd0565b9160408101516040830152606092838201519383820390840152602080855192838152019401906000905b8082106107545750505060019260209260e080859460808082015115159085015260a0808201519085015260c0808201511515908501520151910152960192019201859493919261069d565b90919460208060019288518152019601920190610708565b6040519061010082019180831067ffffffffffffffff8411176107cd576020926040526000815260608084830152600060408301528082015260006080820152600060a0820152600060c0820152600060e082015282828701015201610313565b634e487b7160e01b600052604160045260246000fd5b833567ffffffffffffffff811161010157602091610808839260243691870101610bac565b8152019301926102df565b34610101576020806003193601126101015760043567ffffffffffffffff811161010157610845903690600401610bac565b81810180515161086d61085782610b78565b916108656040519384610b42565b808352610b78565b81850190601f19013682376001600160a01b03908185511691604051927fe4377c6b000000000000000000000000000000000000000000000000000000008452600484015260249087848381305afa92831561010e578894600094610aee575b50600097969594505b855197898951821461098f57889985856108f8858260009c9d9e511694610d35565b5116604051998a9384927fc066a5b100000000000000000000000000000000000000000000000000000000845260048401525af1801561010e578a9660009161095c575b50906109529161094c828a610d35565b52610d10565b97969594506108d6565b8781939892503d8311610988575b6109748183610b42565b81010312610101575189959061095261093c565b503d61096a565b86836000888c898987818451166004604051809881937faffed0e00000000000000000000000000000000000000000000000000000000083525af194851561010e57600095610abf575b506080818451169301511690604051927fef0c7b10000000000000000000000000000000000000000000000000000000008452600484015282015285816044816000305af160009181610a90575b50610a8a5750610a35610d5f565b50600019915b60405194608086019186526080878701525180915260a08501939060005b818110610a76575050508394501515604084015260608301520390f35b825186529487019491870191600101610a59565b91610a3b565b9091508681813d8311610ab8575b610aa88183610b42565b8101031261010157519087610a27565b503d610a9e565b9094508781813d8311610ae7575b610ad78183610b42565b81010312610101575193886109d9565b503d610acd565b8581969295503d8311610b1f575b610b068183610b42565b8101031261010157610b188894610d8f565b92896108cd565b503d610afc565b6040810190811067ffffffffffffffff8211176107cd57604052565b90601f8019910116810190811067ffffffffffffffff8211176107cd57604052565b35906001600160a01b038216820361010157565b67ffffffffffffffff81116107cd5760051b60200190565b67ffffffffffffffff81116107cd57601f01601f191660200190565b919060a08382031261010157604080519167ffffffffffffffff9060a08401828111858210176107cd5783528395610be381610b64565b85526020928382013581811161010157820183601f8201121561010157803590610c0c82610b78565b91610c1988519384610b42565b808352868084019160051b830101918683116101015787809101915b838310610cb85750915050870152610c4e858301610b64565b8587015260608201359081116101015781019382601f8601121561010157843592610c84610c7b85610b90565b92519283610b42565b838252848487010111610101576000848460809795610cb3978997018386013783010152606086015201610b64565b910152565b8190610cc384610b64565b8152019101908790610c35565b919082519283825260005b848110610cfc575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610cdb565b6000198114610d1f5760010190565b634e487b7160e01b600052601160045260246000fd5b8051821015610d495760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b3d15610d8a573d90610d7082610b90565b91610d7e6040519384610b42565b82523d6000602084013e565b606090565b519081151582036101015756fea26469706673582212208bc5fd7eaa93d22e18ce2828933fc8ee3949254cde41401daeeaecabb01570e164736f6c63430008130033" }
