{"abi":[{"inputs":[{"internalType":"contract IERC20Subset","name":"token","type":"address"},{"internalType":"address","name":"addr","type":"address"}],"name":"getERC20Balance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IAmbireAccount","name":"account","type":"address"},{"internalType":"address[]","name":"feeTokens","type":"address[]"}],"name":"getFeeTokenBalances","outputs":[{"components":[{"internalType":"uint256","name":"gasUsed","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct EstimationStructs.FeeTokenOutcome[]","name":"feeTokenOutcomes","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IAmbireAccount","name":"account","type":"address"},{"internalType":"address[]","name":"feeTokens","type":"address[]"},{"internalType":"bytes","name":"spoofSig","type":"bytes"},{"internalType":"address","name":"relayer","type":"address"},{"internalType":"uint256","name":"baseGasConsumption","type":"uint256"}],"name":"simulateFeePayments","outputs":[{"components":[{"internalType":"uint256","name":"gasUsed","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct EstimationStructs.FeeTokenOutcome[]","name":"feeTokenOutcomes","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"contract IAmbireAccount","name":"account","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct IAmbireAccount.Transaction[]","name":"calls","type":"tuple[]"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct EstimationStructs.AccountOp","name":"op","type":"tuple"}],"name":"simulateSigned","outputs":[{"components":[{"internalType":"uint256","name":"gasUsed","type":"uint256"},{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"err","type":"bytes"}],"internalType":"struct EstimationStructs.SimulationOutcome","name":"outcome","type":"tuple"}],"stateMutability":"nonpayable","type":"function"}],"bin":"0x6080806040523461001657610d47908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c806320cdc28614610418578063a012c980146102f0578063c3a8962c146102305763d8d16e0f1461004857600080fd5b3461018d5760031960203682011261018d5767ffffffffffffffff6004351161018d576080906004353603011261018d57604051610085816107d3565b6100936004356004016107bf565b8152600435602481013560208301526044013567ffffffffffffffff811161018d57366023826004350101121561018d576004818135010135906100d68261085f565b916100e4604051938461083d565b808352602083013660248360051b856004350101011161018d576024836004350101905b60248360051b85600435010101821061019257858560408201526064600435013567ffffffffffffffff811161018d5760409161014f6101599260043691813501016108f9565b6060820152610ac5565b6101898251928392602084528051602085015260208101511515828501520151606080840152608083019061098a565b0390f35b600080fd5b813567ffffffffffffffff811161018d576060600435860182013603602319011261018d57604051906101c482610805565b6101d6602482886004350101016107bf565b8252600435860181016044810135602084015267ffffffffffffffff6064909101351161018d57602492602092839261021e9036906004358b010160648101350187016108f9565b60408201528152019201919050610108565b3461018d57604036600319011261018d576004356001600160a01b0380821680920361018d5760243590811680910361018d576020906024604051809481937f70a0823100000000000000000000000000000000000000000000000000000000835260048301525afa80156102e4576000906102b2575b602090604051908152f35b506020813d82116102dc575b816102cb6020938361083d565b8101031261018d57602090516102a7565b3d91506102be565b6040513d6000823e3d90fd5b3461018d57604036600319011261018d576103096107a9565b60243567ffffffffffffffff811161018d57610329903690600401610877565b61033381516109ca565b60005b8251811461040a576001600160a01b0390816103528286610a83565b51168061037a575061037591851631602061036d8386610a83565b510152610a3b565b610336565b6040516330ea258b60e21b81526001600160a01b03918216600482015292861616602483015260208083604481305afa90816000926103d9575b61037594506103c5575b5050610a3b565b6103cf8386610a83565b51015285806103be565b91508084813d8311610403575b6103f0818361083d565b8101031261018d576103759351916103b4565b503d6103e6565b604051806101898482610940565b3461018d5760a036600319011261018d576104316107a9565b67ffffffffffffffff60243581811161018d57610452903690600401610877565b9060443590811161018d5761046b9036906004016108f9565b606435926001600160a01b038416840361018d5761048983516109ca565b9360005b8451811461079b576001600160a01b036104a78287610a83565b5116604051906104b6826107d3565b60006020830152606080604084015280808401526001600160a01b038616835260405163057ff68760e51b815260208160048160006001600160a01b038c165af19081156102e457600091610769575b506020840152866040519161051a83610821565b6001835260005b6020811061074d5750826040860152840152811560001461064b5750506001600160a01b038416316020610555848a610a83565b5101526001600160a01b03831661056f6040830151610a60565b5152600160206105826040840151610a60565b5101525b60206105928389610a83565b5101516105a9575b506105a490610a3b565b61048d565b6105b290610ac5565b90815191826105c3575b509061059a565b6084358093106105ed576105a4926105db9151610ab8565b6105e58289610a83565b5152876105bc565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f494d504f535349424c455f4741535f434f4e53554d5054494f4e0000000000006044820152fd5b816106ea9261065b602093610a60565b51526040517fa9059cbb00000000000000000000000000000000000000000000000000000000838201526001600160a01b038716602482015260016044820152604481526106a8816107d3565b60406106b681870151610a60565b5101526040516330ea258b60e21b81526001600160a01b039182166004820152908716602482015291829081906044820190565b0381305afa60009181610719575b50610704575b50610586565b6020610710848a610a83565b510152876106fe565b9091506020813d602011610745575b816107356020938361083d565b8101031261018d575190896106f8565b3d9150610728565b602091925061075a610a97565b82828601015201908891610521565b90506020813d602011610793575b816107846020938361083d565b8101031261018d57518a610506565b3d9150610777565b604051806101898882610940565b600435906001600160a01b038216820361018d57565b35906001600160a01b038216820361018d57565b6080810190811067ffffffffffffffff8211176107ef57604052565b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff8211176107ef57604052565b6040810190811067ffffffffffffffff8211176107ef57604052565b90601f8019910116810190811067ffffffffffffffff8211176107ef57604052565b67ffffffffffffffff81116107ef5760051b60200190565b81601f8201121561018d5780359161088e8361085f565b9261089c604051948561083d565b808452602092838086019260051b82010192831161018d578301905b8282106108c6575050505090565b8380916108d2846107bf565b8152019101906108b8565b67ffffffffffffffff81116107ef57601f01601f191660200190565b81601f8201121561018d57803590610910826108dd565b9261091e604051948561083d565b8284526020838301011161018d57816000926020809301838601378301015290565b60208082019080835283518092528060408094019401926000905b83821061096a57505050505090565b84518051875283015186840152948501949382019360019091019061095b565b919082519283825260005b8481106109b6575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610995565b906109d48261085f565b6040906109e38251918261083d565b83815280936109f4601f199161085f565b019060005b828110610a065750505050565b8351908482019180831067ffffffffffffffff8411176107ef57602092865260008152826000818301528285010152016109f9565b6000198114610a4a5760010190565b634e487b7160e01b600052601160045260246000fd5b805115610a6d5760200190565b634e487b7160e01b600052603260045260246000fd5b8051821015610a6d5760209160051b010190565b60405190610aa482610805565b606060408360008152600060208201520152565b91908203918211610a4a57565b90610ace610a97565b9060209283810151936000946001600160a01b039580878551169284604094600486518095819363057ff68760e51b83525af1918215610d07578392610cd4575b5003610c94575a938781511683820151606080930151823b15610c9057999091849286519b8c937f6171d1c900000000000000000000000000000000000000000000000000000000855260448501896004870152835180915260648601918b60648360051b89010195019288915b8d8d8c868610610c4157505050505050505083610ba88193879360031984830301602485015261098a565b03925af180610c0f575b610bf49697985015600014610c01573d15610bf857503d90610bd3826108dd565b91610be08451938461083d565b825281933d92013e5b8501525b5a90610ab8565b8252565b9250610be99050565b505050600190850152610bed565b919767ffffffffffffffff8111610c2d578352959687969091610bb2565b602489634e487b7160e01b81526041600452fd5b600195989a9c508294979b9981838e610c7c96979a9d606319908503018c52518a81511684528781015188850152015193820152019061098a565b9801930193018f969491938a989694610b7d565b8480fd5b50805193955091507f4e4f4e43455f4552524f5200000000000000000000000000000000000000000090610cc784610821565b600b845283015282015290565b9091508481813d8311610d00575b610cec818361083d565b81010312610cfc57519038610b0f565b8280fd5b503d610ce2565b84513d85823e3d90fdfea26469706673582212201ecfd078062746b042f4877e61a5bcb787307e751d7c268b26abcd9612d8821864736f6c63430008130033","binRuntime":"0x6080604052600436101561001257600080fd5b60003560e01c806320cdc28614610418578063a012c980146102f0578063c3a8962c146102305763d8d16e0f1461004857600080fd5b3461018d5760031960203682011261018d5767ffffffffffffffff6004351161018d576080906004353603011261018d57604051610085816107d3565b6100936004356004016107bf565b8152600435602481013560208301526044013567ffffffffffffffff811161018d57366023826004350101121561018d576004818135010135906100d68261085f565b916100e4604051938461083d565b808352602083013660248360051b856004350101011161018d576024836004350101905b60248360051b85600435010101821061019257858560408201526064600435013567ffffffffffffffff811161018d5760409161014f6101599260043691813501016108f9565b6060820152610ac5565b6101898251928392602084528051602085015260208101511515828501520151606080840152608083019061098a565b0390f35b600080fd5b813567ffffffffffffffff811161018d576060600435860182013603602319011261018d57604051906101c482610805565b6101d6602482886004350101016107bf565b8252600435860181016044810135602084015267ffffffffffffffff6064909101351161018d57602492602092839261021e9036906004358b010160648101350187016108f9565b60408201528152019201919050610108565b3461018d57604036600319011261018d576004356001600160a01b0380821680920361018d5760243590811680910361018d576020906024604051809481937f70a0823100000000000000000000000000000000000000000000000000000000835260048301525afa80156102e4576000906102b2575b602090604051908152f35b506020813d82116102dc575b816102cb6020938361083d565b8101031261018d57602090516102a7565b3d91506102be565b6040513d6000823e3d90fd5b3461018d57604036600319011261018d576103096107a9565b60243567ffffffffffffffff811161018d57610329903690600401610877565b61033381516109ca565b60005b8251811461040a576001600160a01b0390816103528286610a83565b51168061037a575061037591851631602061036d8386610a83565b510152610a3b565b610336565b6040516330ea258b60e21b81526001600160a01b03918216600482015292861616602483015260208083604481305afa90816000926103d9575b61037594506103c5575b5050610a3b565b6103cf8386610a83565b51015285806103be565b91508084813d8311610403575b6103f0818361083d565b8101031261018d576103759351916103b4565b503d6103e6565b604051806101898482610940565b3461018d5760a036600319011261018d576104316107a9565b67ffffffffffffffff60243581811161018d57610452903690600401610877565b9060443590811161018d5761046b9036906004016108f9565b606435926001600160a01b038416840361018d5761048983516109ca565b9360005b8451811461079b576001600160a01b036104a78287610a83565b5116604051906104b6826107d3565b60006020830152606080604084015280808401526001600160a01b038616835260405163057ff68760e51b815260208160048160006001600160a01b038c165af19081156102e457600091610769575b506020840152866040519161051a83610821565b6001835260005b6020811061074d5750826040860152840152811560001461064b5750506001600160a01b038416316020610555848a610a83565b5101526001600160a01b03831661056f6040830151610a60565b5152600160206105826040840151610a60565b5101525b60206105928389610a83565b5101516105a9575b506105a490610a3b565b61048d565b6105b290610ac5565b90815191826105c3575b509061059a565b6084358093106105ed576105a4926105db9151610ab8565b6105e58289610a83565b5152876105bc565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f494d504f535349424c455f4741535f434f4e53554d5054494f4e0000000000006044820152fd5b816106ea9261065b602093610a60565b51526040517fa9059cbb00000000000000000000000000000000000000000000000000000000838201526001600160a01b038716602482015260016044820152604481526106a8816107d3565b60406106b681870151610a60565b5101526040516330ea258b60e21b81526001600160a01b039182166004820152908716602482015291829081906044820190565b0381305afa60009181610719575b50610704575b50610586565b6020610710848a610a83565b510152876106fe565b9091506020813d602011610745575b816107356020938361083d565b8101031261018d575190896106f8565b3d9150610728565b602091925061075a610a97565b82828601015201908891610521565b90506020813d602011610793575b816107846020938361083d565b8101031261018d57518a610506565b3d9150610777565b604051806101898882610940565b600435906001600160a01b038216820361018d57565b35906001600160a01b038216820361018d57565b6080810190811067ffffffffffffffff8211176107ef57604052565b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff8211176107ef57604052565b6040810190811067ffffffffffffffff8211176107ef57604052565b90601f8019910116810190811067ffffffffffffffff8211176107ef57604052565b67ffffffffffffffff81116107ef5760051b60200190565b81601f8201121561018d5780359161088e8361085f565b9261089c604051948561083d565b808452602092838086019260051b82010192831161018d578301905b8282106108c6575050505090565b8380916108d2846107bf565b8152019101906108b8565b67ffffffffffffffff81116107ef57601f01601f191660200190565b81601f8201121561018d57803590610910826108dd565b9261091e604051948561083d565b8284526020838301011161018d57816000926020809301838601378301015290565b60208082019080835283518092528060408094019401926000905b83821061096a57505050505090565b84518051875283015186840152948501949382019360019091019061095b565b919082519283825260005b8481106109b6575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610995565b906109d48261085f565b6040906109e38251918261083d565b83815280936109f4601f199161085f565b019060005b828110610a065750505050565b8351908482019180831067ffffffffffffffff8411176107ef57602092865260008152826000818301528285010152016109f9565b6000198114610a4a5760010190565b634e487b7160e01b600052601160045260246000fd5b805115610a6d5760200190565b634e487b7160e01b600052603260045260246000fd5b8051821015610a6d5760209160051b010190565b60405190610aa482610805565b606060408360008152600060208201520152565b91908203918211610a4a57565b90610ace610a97565b9060209283810151936000946001600160a01b039580878551169284604094600486518095819363057ff68760e51b83525af1918215610d07578392610cd4575b5003610c94575a938781511683820151606080930151823b15610c9057999091849286519b8c937f6171d1c900000000000000000000000000000000000000000000000000000000855260448501896004870152835180915260648601918b60648360051b89010195019288915b8d8d8c868610610c4157505050505050505083610ba88193879360031984830301602485015261098a565b03925af180610c0f575b610bf49697985015600014610c01573d15610bf857503d90610bd3826108dd565b91610be08451938461083d565b825281933d92013e5b8501525b5a90610ab8565b8252565b9250610be99050565b505050600190850152610bed565b919767ffffffffffffffff8111610c2d578352959687969091610bb2565b602489634e487b7160e01b81526041600452fd5b600195989a9c508294979b9981838e610c7c96979a9d606319908503018c52518a81511684528781015188850152015193820152019061098a565b9801930193018f969491938a989694610b7d565b8480fd5b50805193955091507f4e4f4e43455f4552524f5200000000000000000000000000000000000000000090610cc784610821565b600b845283015282015290565b9091508481813d8311610d00575b610cec818361083d565b81010312610cfc57519038610b0f565b8280fd5b503d610ce2565b84513d85823e3d90fdfea26469706673582212201ecfd078062746b042f4877e61a5bcb787307e751d7c268b26abcd9612d8821864736f6c63430008130033"}