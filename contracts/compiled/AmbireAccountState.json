{"abi":[{"inputs":[{"internalType":"contract IAmbireAccount","name":"account","type":"address"}],"name":"ambireV2Check","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"address[]","name":"associatedKeys","type":"address[]"},{"internalType":"address","name":"factory","type":"address"},{"internalType":"bytes","name":"factoryCalldata","type":"bytes"},{"internalType":"address","name":"erc4337EntryPoint","type":"address"}],"internalType":"struct AccountInput","name":"account","type":"tuple"}],"name":"gatherAmbireData","outputs":[{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes32[]","name":"privileges","type":"bytes32[]"},{"internalType":"bool","name":"isV2","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"address[]","name":"associatedKeys","type":"address[]"},{"internalType":"address","name":"factory","type":"address"},{"internalType":"bytes","name":"factoryCalldata","type":"bytes"},{"internalType":"address","name":"erc4337EntryPoint","type":"address"}],"internalType":"struct AccountInput[]","name":"accounts","type":"tuple[]"}],"name":"getAccountsState","outputs":[{"components":[{"internalType":"bool","name":"isDeployed","type":"bool"},{"internalType":"bytes","name":"deployErr","type":"bytes"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes32[]","name":"associatedKeyPrivileges","type":"bytes32[]"},{"internalType":"bool","name":"isV2","type":"bool"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"bool","name":"isEOA","type":"bool"},{"internalType":"uint256","name":"erc4337Nonce","type":"uint256"},{"internalType":"uint256","name":"currentBlock","type":"uint256"}],"internalType":"struct AccountInfo[]","name":"accountResult","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"acc","type":"address"},{"internalType":"address","name":"entryPoint","type":"address"}],"name":"getErc4337Nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"}],"bin":"0x6080806040523461001657610e68908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c806324b6d45714610965578063dbcc238b14610275578063e4377c6b146101185763ef0c7b101461004857600080fd5b346100ff5760403660031901126100ff576004356001600160a01b03908181168091036100ff576024359182168092036100ff57600091604460209260405194859384927f35567e1a00000000000000000000000000000000000000000000000000000000845260048401528160248401525af1801561010c576000906100d5575b602090604051908152f35b506020813d8211610104575b816100ee60209383610bd8565b810103126100ff57602090516100ca565b600080fd5b3d91506100e1565b6040513d6000823e3d90fd5b346100ff576020806003193601126100ff576004356001600160a01b0381168091036100ff57604051907f01ffc9a700000000000000000000000000000000000000000000000000000000918281527f0a4176320000000000000000000000000000000000000000000000000000000060048201528381602481855afa92831561010c57849160009461023d575b5083156101b9575b506040518315158152f35b9091925060246040518094819382527f150b7a020000000000000000000000000000000000000000000000000000000060048301525afa90811561010c57600091610208575b508282816101ae565b90508181813d8311610236575b61021f8183610bd8565b810103126100ff5761023090610e25565b826101ff565b503d610215565b8281939295503d831161026e575b6102558183610bd8565b810103126100ff576102678491610e25565b92856101a6565b503d61024b565b346100ff5760203660031901126100ff5760043567ffffffffffffffff81116100ff57366023820112156100ff5780600401356102b181610c0e565b916102bf6040519384610bd8565b8183526024602084019260051b820101903682116100ff5760248101925b828410610935578451856102f082610c0e565b916102fe6040519384610bd8565b80835261030d601f1991610c0e565b0160005b8181106108b657505060005b815181146107b15761032f8183610dcb565b51906001600160a01b038251163160a06103498387610dcb565b5101526001600160a01b036040830151161561079b575b6001600160a01b03825116803b600061037882610c26565b926103866040519485610bd8565b82845260208401903c8051156106af5760016103a28387610dcb565b51525b6001600160a01b038351166001600160a01b03608085015116604051917fef0c7b10000000000000000000000000000000000000000000000000000000008352600483015260248201526020816044816000305af16000918161067b575b506106675750610411610df5565b5060001960e06104218488610dcb565b5101525b60c06104318387610dcb565b5101511515908161065d575b5061065357604051917f24b6d457000000000000000000000000000000000000000000000000000000008352602060048401526001600160a01b03815116602484015282602082015160a0604483015260c482018151809152602060e484019201906000905b80821061062e57505050826001600160a01b0360806104e1859483604060009901511660648701526060850151602319878303016084880152610d66565b9201511660a48301520381305afa60008082600093610567575b61052395506105285750505061050f610df5565b602061051b8387610dcb565b510152610da6565b61031d565b60406105348589610dcb565b51015260606105438488610dcb565b51015260806105528387610dcb565b510190151590524361010061051b8387610dcb565b9394925050503d806000833e61057d8183610bd8565b60608282810103126100ff5781519160208101519167ffffffffffffffff83116100ff57808201601f8484010112156100ff57828201516105bd81610c0e565b936105cb6040519586610bd8565b8185526020850192840160208360051b8387010101116100ff57602081850101925b60208360051b8387010101841061061e57505050509061061560406105239695949301610e25565b919091926104fb565b83518152602093840193016105ed565b919350916020806001926001600160a01b0387511681520194019201869392916104a3565b6105239150610da6565b905051158561043d565b60e06106738488610dcb565b510152610425565b9091506020813d6020116106a7575b8161069760209383610bd8565b810103126100ff57519087610403565b3d915061068a565b60c06106bb8387610dcb565b5101516103a5576000806001600160a01b0360408601511660608601519082602083519301915af16106eb610df5565b5080158015610788575b6106ff57506103a5565b610523935015905061074d5760405161071781610bbc565b600b81527f63616c6c20776f726b65640000000000000000000000000000000000000000006020820152602061051b8387610dcb565b60405161075981610bbc565b600b81527f63616c6c206661696c6564000000000000000000000000000000000000000000602082015261050f565b506001600160a01b038451163b156106f5565b600160c06107a98387610dcb565b510152610360565b826040518091602082016020835281518091526040830190602060408260051b8601019301916000905b8282106107ea57505050500390f35b919390929450603f1986820301825284519081511515815261081b6020830151610120806020850152830190610d66565b9160408101516040830152606092838201519383820390840152602080855192838152019401906000905b80821061089e57505050600192602092839260808082015115159083015260a0808201519083015260c08082015115159083015260e081015160e08301526101008091015191015296019201920185949391926107db565b90919460208060019288518152019601920190610846565b6040519061012082019180831067ffffffffffffffff84111761091f576020926040526000815260608084830152600060408301528082015260006080820152600060a0820152600060c0820152600060e0820152600061010082015282828701015201610311565b634e487b7160e01b600052604160045260246000fd5b833567ffffffffffffffff81116100ff5760209161095a839260243691870101610c42565b8152019301926102dd565b346100ff576020806003193601126100ff5760043567ffffffffffffffff81116100ff57610997903690600401610c42565b81810190815151906109c16109ab83610c0e565b926109b96040519485610bd8565b808452610c0e565b8285019190601f19013683376001600160a01b038082511691604051927fe4377c6b000000000000000000000000000000000000000000000000000000008452600484015260249287818581305afa90811561010c57600091610b87575b5060005b87519081518114610ac9578985610a3e838288511695610dcb565b511687604051809581937fc066a5b100000000000000000000000000000000000000000000000000000000835260048301525afa801561010c57600090610a9a575b610a959250610a8f828a610dcb565b52610da6565b610a23565b508982813d8311610ac2575b610ab08183610bd8565b810103126100ff57610a959151610a80565b503d610aa6565b82888860048d808a8a5116604051938480927faffed0e00000000000000000000000000000000000000000000000000000000082525afa91821561010c57600092610b58575b509060405193606085019185526060838601525180915260808401929160005b828110610b4457861515604087015285850386f35b835185529381019392810192600101610b2f565b9080925081813d8311610b80575b610b708183610bd8565b810103126100ff57519085610b0f565b503d610b66565b90508781813d8311610bb5575b610b9e8183610bd8565b810103126100ff57610baf90610e25565b88610a1f565b503d610b94565b6040810190811067ffffffffffffffff82111761091f57604052565b90601f8019910116810190811067ffffffffffffffff82111761091f57604052565b35906001600160a01b03821682036100ff57565b67ffffffffffffffff811161091f5760051b60200190565b67ffffffffffffffff811161091f57601f01601f191660200190565b919060a0838203126100ff57604080519167ffffffffffffffff9060a084018281118582101761091f5783528395610c7981610bfa565b8552602092838201358181116100ff57820183601f820112156100ff57803590610ca282610c0e565b91610caf88519384610bd8565b808352868084019160051b830101918683116100ff5787809101915b838310610d4e5750915050870152610ce4858301610bfa565b8587015260608201359081116100ff5781019382601f860112156100ff57843592610d1a610d1185610c26565b92519283610bd8565b8382528484870101116100ff576000848460809795610d49978997018386013783010152606086015201610bfa565b910152565b8190610d5984610bfa565b8152019101908790610ccb565b919082519283825260005b848110610d92575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610d71565b6000198114610db55760010190565b634e487b7160e01b600052601160045260246000fd5b8051821015610ddf5760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b3d15610e20573d90610e0682610c26565b91610e146040519384610bd8565b82523d6000602084013e565b606090565b519081151582036100ff5756fea26469706673582212209db333f4e71e65f4b456a5d0a93eab1188b4d216f33fa205bced3df443f366df64736f6c63430008130033","binRuntime":"0x6080604052600436101561001257600080fd5b60003560e01c806324b6d45714610965578063dbcc238b14610275578063e4377c6b146101185763ef0c7b101461004857600080fd5b346100ff5760403660031901126100ff576004356001600160a01b03908181168091036100ff576024359182168092036100ff57600091604460209260405194859384927f35567e1a00000000000000000000000000000000000000000000000000000000845260048401528160248401525af1801561010c576000906100d5575b602090604051908152f35b506020813d8211610104575b816100ee60209383610bd8565b810103126100ff57602090516100ca565b600080fd5b3d91506100e1565b6040513d6000823e3d90fd5b346100ff576020806003193601126100ff576004356001600160a01b0381168091036100ff57604051907f01ffc9a700000000000000000000000000000000000000000000000000000000918281527f0a4176320000000000000000000000000000000000000000000000000000000060048201528381602481855afa92831561010c57849160009461023d575b5083156101b9575b506040518315158152f35b9091925060246040518094819382527f150b7a020000000000000000000000000000000000000000000000000000000060048301525afa90811561010c57600091610208575b508282816101ae565b90508181813d8311610236575b61021f8183610bd8565b810103126100ff5761023090610e25565b826101ff565b503d610215565b8281939295503d831161026e575b6102558183610bd8565b810103126100ff576102678491610e25565b92856101a6565b503d61024b565b346100ff5760203660031901126100ff5760043567ffffffffffffffff81116100ff57366023820112156100ff5780600401356102b181610c0e565b916102bf6040519384610bd8565b8183526024602084019260051b820101903682116100ff5760248101925b828410610935578451856102f082610c0e565b916102fe6040519384610bd8565b80835261030d601f1991610c0e565b0160005b8181106108b657505060005b815181146107b15761032f8183610dcb565b51906001600160a01b038251163160a06103498387610dcb565b5101526001600160a01b036040830151161561079b575b6001600160a01b03825116803b600061037882610c26565b926103866040519485610bd8565b82845260208401903c8051156106af5760016103a28387610dcb565b51525b6001600160a01b038351166001600160a01b03608085015116604051917fef0c7b10000000000000000000000000000000000000000000000000000000008352600483015260248201526020816044816000305af16000918161067b575b506106675750610411610df5565b5060001960e06104218488610dcb565b5101525b60c06104318387610dcb565b5101511515908161065d575b5061065357604051917f24b6d457000000000000000000000000000000000000000000000000000000008352602060048401526001600160a01b03815116602484015282602082015160a0604483015260c482018151809152602060e484019201906000905b80821061062e57505050826001600160a01b0360806104e1859483604060009901511660648701526060850151602319878303016084880152610d66565b9201511660a48301520381305afa60008082600093610567575b61052395506105285750505061050f610df5565b602061051b8387610dcb565b510152610da6565b61031d565b60406105348589610dcb565b51015260606105438488610dcb565b51015260806105528387610dcb565b510190151590524361010061051b8387610dcb565b9394925050503d806000833e61057d8183610bd8565b60608282810103126100ff5781519160208101519167ffffffffffffffff83116100ff57808201601f8484010112156100ff57828201516105bd81610c0e565b936105cb6040519586610bd8565b8185526020850192840160208360051b8387010101116100ff57602081850101925b60208360051b8387010101841061061e57505050509061061560406105239695949301610e25565b919091926104fb565b83518152602093840193016105ed565b919350916020806001926001600160a01b0387511681520194019201869392916104a3565b6105239150610da6565b905051158561043d565b60e06106738488610dcb565b510152610425565b9091506020813d6020116106a7575b8161069760209383610bd8565b810103126100ff57519087610403565b3d915061068a565b60c06106bb8387610dcb565b5101516103a5576000806001600160a01b0360408601511660608601519082602083519301915af16106eb610df5565b5080158015610788575b6106ff57506103a5565b610523935015905061074d5760405161071781610bbc565b600b81527f63616c6c20776f726b65640000000000000000000000000000000000000000006020820152602061051b8387610dcb565b60405161075981610bbc565b600b81527f63616c6c206661696c6564000000000000000000000000000000000000000000602082015261050f565b506001600160a01b038451163b156106f5565b600160c06107a98387610dcb565b510152610360565b826040518091602082016020835281518091526040830190602060408260051b8601019301916000905b8282106107ea57505050500390f35b919390929450603f1986820301825284519081511515815261081b6020830151610120806020850152830190610d66565b9160408101516040830152606092838201519383820390840152602080855192838152019401906000905b80821061089e57505050600192602092839260808082015115159083015260a0808201519083015260c08082015115159083015260e081015160e08301526101008091015191015296019201920185949391926107db565b90919460208060019288518152019601920190610846565b6040519061012082019180831067ffffffffffffffff84111761091f576020926040526000815260608084830152600060408301528082015260006080820152600060a0820152600060c0820152600060e0820152600061010082015282828701015201610311565b634e487b7160e01b600052604160045260246000fd5b833567ffffffffffffffff81116100ff5760209161095a839260243691870101610c42565b8152019301926102dd565b346100ff576020806003193601126100ff5760043567ffffffffffffffff81116100ff57610997903690600401610c42565b81810190815151906109c16109ab83610c0e565b926109b96040519485610bd8565b808452610c0e565b8285019190601f19013683376001600160a01b038082511691604051927fe4377c6b000000000000000000000000000000000000000000000000000000008452600484015260249287818581305afa90811561010c57600091610b87575b5060005b87519081518114610ac9578985610a3e838288511695610dcb565b511687604051809581937fc066a5b100000000000000000000000000000000000000000000000000000000835260048301525afa801561010c57600090610a9a575b610a959250610a8f828a610dcb565b52610da6565b610a23565b508982813d8311610ac2575b610ab08183610bd8565b810103126100ff57610a959151610a80565b503d610aa6565b82888860048d808a8a5116604051938480927faffed0e00000000000000000000000000000000000000000000000000000000082525afa91821561010c57600092610b58575b509060405193606085019185526060838601525180915260808401929160005b828110610b4457861515604087015285850386f35b835185529381019392810192600101610b2f565b9080925081813d8311610b80575b610b708183610bd8565b810103126100ff57519085610b0f565b503d610b66565b90508781813d8311610bb5575b610b9e8183610bd8565b810103126100ff57610baf90610e25565b88610a1f565b503d610b94565b6040810190811067ffffffffffffffff82111761091f57604052565b90601f8019910116810190811067ffffffffffffffff82111761091f57604052565b35906001600160a01b03821682036100ff57565b67ffffffffffffffff811161091f5760051b60200190565b67ffffffffffffffff811161091f57601f01601f191660200190565b919060a0838203126100ff57604080519167ffffffffffffffff9060a084018281118582101761091f5783528395610c7981610bfa565b8552602092838201358181116100ff57820183601f820112156100ff57803590610ca282610c0e565b91610caf88519384610bd8565b808352868084019160051b830101918683116100ff5787809101915b838310610d4e5750915050870152610ce4858301610bfa565b8587015260608201359081116100ff5781019382601f860112156100ff57843592610d1a610d1185610c26565b92519283610bd8565b8382528484870101116100ff576000848460809795610d49978997018386013783010152606086015201610bfa565b910152565b8190610d5984610bfa565b8152019101908790610ccb565b919082519283825260005b848110610d92575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610d71565b6000198114610db55760010190565b634e487b7160e01b600052601160045260246000fd5b8051821015610ddf5760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b3d15610e20573d90610e0682610c26565b91610e146040519384610bd8565b82523d6000602084013e565b606090565b519081151582036100ff5756fea26469706673582212209db333f4e71e65f4b456a5d0a93eab1188b4d216f33fa205bced3df443f366df64736f6c63430008130033"}